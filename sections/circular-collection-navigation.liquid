{% style %}

    /* Container for the carousel */
  .carousel-{{ section.id }} {
    width: 100%;
    height: 262px;
    overflow: hidden;
  }
  .carousel_wraper {
    text-align: center;
  }

  /* Each carousel item */
  .carousel-cell-{{ section.id }} {
    width: 190px; /* Fixed width for consistency */
    height: 240px; /* Adjust height as needed */
    margin-right: 10px; /* Space between items */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    background: #fff; /* Optional: background for visibility */
    border-radius: 8px;
    padding-top: 35px;
  }

  /* Responsive images */
  .carousel-cell-{{ section.id }} img {
    /* max-width: 100%; */
    /* height: auto; */
    border-radius: 4px;
    width: 160px;
    height: 160px;
    border-radius: 100%;
    object-fit: cover;
    }

  .carousel-cell-{{ section.id }} li {
      list-style: none;
  }

  /* Text styling */
  .carousel-cell-{{ section.id }} p {
    margin: 5px 0 0;
    font-size: 16px;
    text-align: center;
    font-weight: bold
  }
  .flickity-prev-next-button{
      display: none
    }

  /* Mobile-specific adjustments */
  @media (max-width: 768px) {

  .carousel-{{ section.id }} {
    width: 100%;
    height: 170px;
    overflow: hidden;
  }
    .carousel-cell-{{ section.id }} {
      width: 100px; /* Slightly smaller for mobile */
      height: 180px;
    }
  .carousel-{{ section.id }} img{
    height: 95px;
    width: 95px;
  }

  .carousel-cell-{{ section.id }} p{
    font-size: 12px;
    }
  }
{% endstyle %}
<div class="carousel_wraper">
  {% if section.settings.title != blank %}
    <h2>{{ section.settings.title }}</h2>
  {% endif %}
  <div class="carousel-{{ section.id }}">
    {% for block in section.blocks %}
      <div class="carousel-cell-{{ section.id }}">
        <a href="{{ block.settings.link }}">
          {{ block.settings.image | image_url: width: 200 | image_tag: alt: block.settings.text }}
        </a>
          <p>{{ block.settings.text }}</p>
      </div>
    {% endfor %}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var carousel = document.querySelector('.carousel-{{ section.id }}');
    if (carousel) {
      var flkty = new Flickity(carousel, {
        cellAlign: '{{ section.settings.cellAlign }}',
        contain: true,
        freeScroll: true,
        wrapAround: false
      });
    }
  });
</script>
{% schema %}
{
  "name": "circular-nav",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "title",
      "default": "Title of this section"
    },
     {
      "type": "text",
      "id": "cellAlign",
      "label": "cellAlign",
      "default": "left"
    }
  ],
  "blocks": [
    {
      "type": "colection_image",
      "name": "colection_image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "insert url",

        },
        {
          "type": "text",
          "id": "text",
          "label": "collection text"
        }
      ]
    }
  ],
  "presets": [{
    "name": "circular-nav"
  }]
}
{% endschema %}
